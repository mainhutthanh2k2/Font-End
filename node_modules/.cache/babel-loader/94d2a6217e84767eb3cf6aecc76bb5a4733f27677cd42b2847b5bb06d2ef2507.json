{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Record = void 0;\nconst enums_1 = require(\"../../enums\");\nclass Record {\n  action = enums_1.NCCOActions.RECORD;\n  format;\n  wrappedSplit;\n  wrappedChannels;\n  wrappedEndOnSilence;\n  wrappedEndOnKey;\n  wrappedTimeOut;\n  beepStart;\n  eventUrl;\n  eventMethod;\n  constructor(format, split, channels, endOnSilence, endOnKey, timeout, beepStart, eventUrl, eventMethod) {\n    if (format) {\n      this.format = format;\n    }\n    if (split) {\n      this.split = split;\n    }\n    if (channels) {\n      this.channels = channels;\n    }\n    if (endOnSilence) {\n      this.endOnSilence = endOnSilence;\n    }\n    if (endOnKey) {\n      this.endOnKey = endOnKey;\n    }\n    if (timeout) {\n      this.timeout = timeout;\n    }\n    if (beepStart) {\n      this.beepStart = beepStart;\n    }\n    if (eventUrl) {\n      this.eventUrl = [eventUrl];\n    }\n    if (eventMethod) {\n      this.eventMethod = eventMethod;\n    }\n  }\n  get channels() {\n    return this.wrappedChannels;\n  }\n  set channels(channels) {\n    if (channels < 1 || channels > 32) {\n      throw new Error('Channels must be between 1 and 32, inclusive');\n    }\n    if (this.wrappedSplit !== 'conversation') {\n      throw new Error(`Channels must have split set to 'conversation' before changing channel numbers`);\n    }\n    this.wrappedChannels = channels;\n  }\n  get endOnKey() {\n    return this.wrappedEndOnKey;\n  }\n  set endOnKey(character) {\n    const re = /^[0-9*#]$/;\n    if (!re.test(character)) {\n      throw new Error('Valid characters are 0-9, *, and # only');\n    }\n    this.wrappedEndOnKey = character;\n  }\n  get endOnSilence() {\n    return this.wrappedEndOnSilence;\n  }\n  set endOnSilence(numSeconds) {\n    if (numSeconds < 3 || numSeconds > 10) {\n      throw new Error('End on Silence must be between 3 and 10 seconds, inclusive');\n    }\n    this.wrappedEndOnSilence = numSeconds;\n  }\n  get split() {\n    return 'conversation';\n  }\n  set split(splitType) {\n    if (splitType !== 'conversation') {\n      throw new Error(\"Recording can only be split to 'conversation'\");\n    }\n    this.wrappedSplit = splitType;\n  }\n  get timeout() {\n    return this.wrappedTimeOut;\n  }\n  set timeout(seconds) {\n    if (seconds < 3 || seconds > 7200) {\n      throw new Error('Recording timeout must be between 3 and 7200 seconds, inclusive');\n    }\n    this.wrappedTimeOut = seconds;\n  }\n  serializeToNCCO() {\n    const data = {\n      action: enums_1.NCCOActions.RECORD\n    };\n    if (this.format) {\n      data.format = this.format;\n    }\n    if (this.wrappedSplit) {\n      data.split = this.split;\n    }\n    if (this.wrappedChannels) {\n      data.channels = this.wrappedChannels;\n    }\n    if (this.wrappedEndOnKey) {\n      data.endOnKey = this.endOnKey;\n    }\n    if (this.wrappedEndOnSilence) {\n      data.endOnSilence = this.endOnSilence;\n    }\n    if (this.wrappedTimeOut) {\n      data.timeOut = this.wrappedTimeOut;\n    }\n    if (this.beepStart) {\n      data.beepStart = this.beepStart;\n    }\n    if (this.eventUrl) {\n      data.eventUrl = this.eventUrl;\n    }\n    if (this.eventMethod) {\n      data.eventMethod = this.eventMethod;\n    }\n    return data;\n  }\n}\nexports.Record = Record;","map":{"version":3,"names":["enums_1","require","Record","action","NCCOActions","RECORD","format","wrappedSplit","wrappedChannels","wrappedEndOnSilence","wrappedEndOnKey","wrappedTimeOut","beepStart","eventUrl","eventMethod","constructor","split","channels","endOnSilence","endOnKey","timeout","Error","character","re","test","numSeconds","splitType","seconds","serializeToNCCO","data","timeOut","exports"],"sources":["../../../lib/classes/NCCO/Record.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}